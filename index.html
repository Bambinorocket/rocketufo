<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocket to Mars</title>
    <style>
        #rocketContainer {
            position: relative;
            width: 100%;
            height: 100vh;
            background-color: black;
            overflow: hidden;
        }

        .rocket {
            position: absolute;
            width: 50px;
            height: 100px;
            background-color: red;
            bottom: 0;
            cursor: pointer;
        }

        .flame {
            position: absolute;
            width: 10px;
            height: 30px;
            background-color: orange;
            bottom: -30px;
            left: 20px;
        }

        .ufo {
            position: absolute;
            width: 50px;
            height: 20px;
            background-color: gray;
            border-radius: 50%;
            left: 0;
            cursor: pointer;
        }

        #distance, #fuel, #message, #finalMessage {
            position: absolute;
            color: white;
            font-size: 20px;
        }

        #distance {
            top: 10px;
            left: 10px;
        }

        #fuel {
            top: 10px;
            right: 10px;
        }

        #message {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }

        #finalMessage {
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 30px;
            display: none;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: white;
        }
    </style>
</head>
<body>

<div id="rocketContainer"></div>

<script>
    // Créer des étoiles
    function createStars() {
        var container = document.getElementById('rocketContainer');
        for (let i = 0; i < 100; i++) {
            var star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * window.innerWidth + 'px';
            star.style.top = Math.random() * window.innerHeight + 'px';
            container.appendChild(star);
        }
    }

    createStars();

    // Variables globales
    var container = document.getElementById('rocketContainer');
    var distance = 225000000; // Distance à Mars
    var fuel = 100; // Niveau de carburant (de 0 à 100%)
    var rocketInterval;
    var messageCount = 0;
    var gameOver = false;

    var messages = [
        "You gained 50 km!",
        "You gained 80 km!",
        "You gained 100 km!",
        "You gained 150 km!"
    ];

    // Affichage distance
    var distanceDisplay = document.createElement('div');
    distanceDisplay.id = 'distance';
    distanceDisplay.innerText = 'Distance to Mars: 225000000 km';
    container.appendChild(distanceDisplay);

    // Affichage fuel
    var fuelDisplay = document.createElement('div');
    fuelDisplay.id = 'fuel';
    fuelDisplay.innerText = 'Fuel: 100%';
    container.appendChild(fuelDisplay);

    // Messages spéciaux
    var messageDisplay = document.createElement('div');
    messageDisplay.id = 'message';
    container.appendChild(messageDisplay);

    // Message final
    var finalMessage = document.createElement('div');
    finalMessage.id = 'finalMessage';
    finalMessage.innerText = "Game Over! You ran out of fuel.";
    container.appendChild(finalMessage);

    // Créer une fusée
    function createRocket() {
        if (gameOver) return;

        var rocket = document.createElement('div');
        rocket.className = 'rocket';
        container.appendChild(rocket);

        var flame = document.createElement('div');
        flame.className = 'flame';
        rocket.appendChild(flame);

        rocket.style.left = Math.random() * (window.innerWidth - 50) + 'px';

        let movement = setInterval(() => {
            let currentBottom = parseFloat(rocket.style.bottom) || 0;
            if (currentBottom < window.innerHeight) {
                rocket.style.bottom = currentBottom + 4 + 'px';
            } else {
                clearInterval(movement);
                container.removeChild(rocket);
            }
        }, 50);

        rocket.addEventListener('click', function () {
            if (gameOver) return;

            let kmGained = 50; // Ajout de kilomètres
            distance -= kmGained;
            distanceDisplay.innerText = 'Distance to Mars: ' + distance + ' km';

            let randomIndex = Math.floor(Math.random() * messages.length);
            messageDisplay.innerText = messages[randomIndex];
            messageDisplay.style.display = 'block';
            setTimeout(() => {
                messageDisplay.style.display = 'none';
            }, 3000);

            messageCount++;
            if (messageCount >= 50) {
                setTimeout(() => {
                    finalMessage.style.display = 'block';
                    stopGame();
                }, 3000);
            }

            container.removeChild(rocket);
        });
    }

    // Créer une soucoupe volante
    function createUFO(isBonus = false) {
        if (gameOver) return;

        var ufo = document.createElement('div');
        ufo.className = 'ufo';
        ufo.style.top = Math.random() * (window.innerHeight - 40) + 'px'; // Position verticale aléatoire
        if (isBonus) {
            ufo.style.backgroundColor = 'green'; // Couleur différente pour la soucoupe bonus
        }
        container.appendChild(ufo);

        let movement = setInterval(() => {
            let currentLeft = parseFloat(ufo.style.left) || 0;
            ufo.style.left = currentLeft + 2 + 'px'; // Déplacement constant vers la droite

            if (currentLeft > window.innerWidth) {
                clearInterval(movement);
                container.removeChild(ufo);
            }
        }, 50);

        // Ajout de fonctionnalité de bonus ou perte de fuel
        ufo.addEventListener('click', function () {
            if (gameOver) return;

            if (isBonus) {
                fuel = Math.min(fuel + 20, 100); // Augmenter de 20% et limiter à 100%
            } else {
                fuel -= 10; // Perdre 10% de carburant
                if (fuel < 0) fuel = 0; // Limiter à 0%
            }

            fuelDisplay.innerText = 'Fuel: ' + fuel + '%';

            if (fuel === 0) {
                finalMessage.style.display = 'block';
                stopGame();
            }

            container.removeChild(ufo);
        });
    }

    // Arrêter le jeu
    function stopGame() {
        clearInterval(rocketInterval);
        gameOver = true;
    }

    // Démarrer le jeu
    function startGame() {
        rocketInterval = setInterval(() => {
            createRocket();
            if (Math.random() < 0.5) createUFO(); // Soucoupe volante normale
            if (Math.random() < 0.2) createUFO(true); // Soucoupe bonus avec 20% de probabilité
        }, 1000);
    }

    createStars();
    startGame();
</script>

</body>
</html>
